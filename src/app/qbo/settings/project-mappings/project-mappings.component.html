<div *ngIf="!isLoading">
    <div *ngIf="isConfigValueSet">
        <div class="page-header project-mappings--header">
            <div class="page-header--name mat-h2">
                Project Mappings
            </div>
        </div>
        <div class="page-info" fxLayoutAlign="start center">
            Your mappings for projects. Read more.
        </div>
        <div class="page-info" fxLayoutAlign="start center">
            <button mat-flat-button color="primary" type="button" (click)="open()">
                New Project Mapping
            </button>
        </div>

        <div class="mat-h2" *ngIf="!projectMappings.length">
            <p>Looks like you don't have any project mappings</p>
        </div>

        <div [hidden]="isLoading">
            <table mat-table [dataSource]="projectMappings" class="page-table" matSort matSortActive="created_at"
                matSortDisableClear matSortDirection="desc">
                <ng-container matColumnDef="projects">
                    <th mat-header-cell *matHeaderCellDef> Projects </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.source.value}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="qbo">
                    <th mat-header-cell *matHeaderCellDef>
                        {{ generalSettings.project_field_mapping | titlecase}}
                    </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.destination.value}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
            </table>
        </div>
    </div>
    <div *ngIf="!isConfigValueSet">
        <div class="page-header cateogry-mappings--header">
            <div class="page-header--name mat-h2">
                Project Mappings
            </div>
        </div>
        <div class="page-info" fxLayoutAlign="start center">
            Please go to <a routerLink="../settings/configurations/">Configurations</a> and set the value for projects to create mappings.
        </div>
    </div>
</div>

<div class="internal-loader" fxLayoutAlign="center start" *ngIf="isLoading" fxFlexFill>
    <app-loader></app-loader>
</div>